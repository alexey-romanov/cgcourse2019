<!DOCTYPE html>
<html lang="en">

<head>

    <title>3D object rendering</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta charset="UTF-8" />

    <link href="styles/main.css" rel="stylesheet" type="text/css">

    <script id="phongLightingVertexShader" type="x-shader/x-vertex">
        varying vec3 Normal;
        varying vec3 Position;

        void main() {
            Normal = normalize(normalMatrix * normal);
            Position = vec3(modelViewMatrix * vec4(position, 1.0));
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    </script>

    <script id="phongLightingFragmentShader" type="x-shader/x-fragment">
        varying vec3 Normal;
        varying vec3 Position;

        uniform vec3 Ka;
        uniform vec3 Kd;
        uniform vec3 Ks;
        uniform vec4 LightPosition;
        uniform vec3 LightIntensity;
        uniform float Shininess;

        vec3 phong() {
            vec3 n = normalize(Normal);
            vec3 s = normalize(vec3(LightPosition) - Position);
            vec3 v = normalize(vec3(-Position));
            vec3 r = reflect(-s, n);

            vec3 ambient = Ka;
            vec3 diffuse = Kd * max(dot(s, n), 0.0);
            vec3 specular = Ks * pow(max(dot(r, v), 0.0), Shininess);

            return LightIntensity * (ambient + diffuse + specular);
        }

        void main() {
            gl_FragColor = vec4(phong(), 1.0);
        }
    </script>

    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/libs/inflate.min.js"></script>
    <script src="https://threejs.org/examples/js/loaders/FBXLoader.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>

</head>

<body>

    <div id="scene-container">
    </div>

    <script src="js/app.js"></script>

</body>

</html>
